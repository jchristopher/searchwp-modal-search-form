{"version":3,"sources":["../../node_modules/micromodal/dist/micromodal.es.js","../../node_modules/domready/ready.js","searchwp-modal-form.js"],"names":["MicroModal","version","classCallCheck","e","o","TypeError","createClass","t","length","n","enumerable","configurable","writable","Object","defineProperty","key","prototype","toConsumableArray","Array","isArray","from","targetModal","triggers","i","a","onShow","r","s","onClose","l","c","openTrigger","d","u","closeTrigger","h","f","disableScroll","v","m","disableFocus","g","b","awaitCloseAnimation","y","k","debugMode","w","modal","document","getElementById","config","registerTriggers","apply","onClick","bind","onKeydown","value","arguments","filter","Boolean","forEach","addEventListener","showModal","activeElement","setAttribute","classList","add","setFocusToFirstNode","scrollBehaviour","addEventListeners","removeEventListeners","focus","remove","removeEventListener","closeModal","querySelector","assign","style","overflow","height","target","hasAttribute","preventDefault","keyCode","maintainFocus","querySelectorAll","getFocusableNodes","contains","indexOf","shiftKey","console","warn","init","concat","attributes","push","show","close","closeModalById","$el","select","showing","closers","trigger","event","currentTarget","getAttribute","closer"],"mappings":"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","file":"searchwp-modal-form.min.js","sourceRoot":"../src","sourcesContent":["var version=\"0.3.2\",classCallCheck=function(e,o){if(!(e instanceof o))throw new TypeError(\"Cannot call a class as a function\")},createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var o=0,t=Array(e.length);o<e.length;o++)t[o]=e[o];return t}return Array.from(e)},MicroModal=function(){var e=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],o=function(){function o(e){var t=e.targetModal,n=e.triggers,i=void 0===n?[]:n,a=e.onShow,r=void 0===a?function(){}:a,s=e.onClose,l=void 0===s?function(){}:s,c=e.openTrigger,d=void 0===c?\"data-micromodal-trigger\":c,u=e.closeTrigger,h=void 0===u?\"data-micromodal-close\":u,f=e.disableScroll,v=void 0!==f&&f,m=e.disableFocus,g=void 0!==m&&m,b=e.awaitCloseAnimation,y=void 0!==b&&b,k=e.debugMode,w=void 0!==k&&k;classCallCheck(this,o),this.modal=document.getElementById(t),this.config={debugMode:w,disableScroll:v,openTrigger:d,closeTrigger:h,onShow:r,onClose:l,awaitCloseAnimation:y,disableFocus:g},i.length>0&&this.registerTriggers.apply(this,toConsumableArray(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return createClass(o,[{key:\"registerTriggers\",value:function(){for(var e=this,o=arguments.length,t=Array(o),n=0;n<o;n++)t[n]=arguments[n];t.filter(Boolean).forEach(function(o){o.addEventListener(\"click\",function(){return e.showModal()})})}},{key:\"showModal\",value:function(){this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(\"is-open\"),this.setFocusToFirstNode(),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.onShow(this.modal)}},{key:\"closeModal\",value:function(){var e=this.modal;this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener(\"animationend\",function o(){e.classList.remove(\"is-open\"),e.removeEventListener(\"animationend\",o,!1)},!1):e.classList.remove(\"is-open\")}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var o=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(o.style,{overflow:\"\",height:\"\"});break;case\"disable\":Object.assign(o.style,{overflow:\"hidden\",height:\"100vh\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var o=this.modal.querySelectorAll(e);return Array.apply(void 0,toConsumableArray(o))}},{key:\"setFocusToFirstNode\",value:function(){if(!this.config.disableFocus){var e=this.getFocusableNodes();e.length&&e[0].focus()}}},{key:\"maintainFocus\",value:function(e){var o=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var t=o.indexOf(document.activeElement);e.shiftKey&&0===t&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||t!==o.length-1||(o[0].focus(),e.preventDefault())}else o[0].focus()}}]),o}(),t=null,n=function(e,o){var t=[];return e.forEach(function(e){var n=e.attributes[o].value;void 0===t[n]&&(t[n]=[]),t[n].push(e)}),t},i=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal v\"+version+\": ❗Seems like you have missed %c'\"+e+\"'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'+e+'\"></div>'),!1},a=function(e){if(e.length<=0)return console.warn(\"MicroModal v\"+version+\": ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'),!1},r=function(e,o){if(a(e),!o)return!0;for(var t in o)i(t);return!0};return{init:function(e){var t=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),i=[].concat(toConsumableArray(document.querySelectorAll(\"[\"+t.openTrigger+\"]\"))),a=n(i,t.openTrigger);if(!0!==t.debugMode||!1!==r(i,a))for(var s in a){var l=a[s];t.targetModal=s,t.triggers=[].concat(toConsumableArray(l)),new o(t)}},show:function(e,n){var a=n||{};a.targetModal=e,!0===a.debugMode&&!1===i(e)||(t=new o(a)).showModal()},close:function(e){e?t.closeModalById(e):t.closeModal()}}}();export default MicroModal;\n","/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn)\n  }\n\n});\n","import MicroModal from \"micromodal\";\nimport domready from \"domready\";\n\nMicroModal.init({\n  onShow: function(modal) {\n    let $el = modal.querySelectorAll('[name=\"s\"]')[0];\n    $el.focus();\n    $el.select();\n  }\n});\n\ndomready(function() {\n  // We're implementing our own click handlers for opening/closing modals so\n  // we have a bit more control over how the events execute (e.g. preventing default)\n  let showing = \"\";\n  let triggers = document.querySelectorAll(\"[data-searchwp-modal-trigger]\");\n  let closers = document.querySelectorAll(\"[data-searchwp-modal-form-close]\");\n\n  triggers.forEach(function(trigger) {\n    trigger.addEventListener(\n      \"click\",\n      function(event) {\n        event.preventDefault();\n        let modal = event.currentTarget.getAttribute(\n          \"data-searchwp-modal-trigger\"\n        );\n        showing = modal;\n        MicroModal.show(modal);\n      },\n      false\n    );\n  });\n\n  closers.forEach(function(closer) {\n    closer.addEventListener(\n      \"click\",\n      function(event) {\n        if (\n          event.target.hasAttribute(\"data-searchwp-modal-form-close\")\n        ) {\n          event.preventDefault();\n          MicroModal.close(showing);\n          showing = \"\";\n        }\n      },\n      true\n    );\n  });\n});\n"]}